<!DOCTYPE html>
<html lang="fr" data-th-replace="~{file-layout::layout(contenu=~{::main},titre=~{::title})}"
      xmlns:th="http://www.thymeleaf.org">

<title>Ajout photo</title>

<main>
    <h1>Ajouter une photo</h1>

    <form class="classPhoto" th:action="@{/ajouter_photo}" method="post" enctype="multipart/form-data">
        <input type="hidden" name="articleId" th:value="${articleAVendre.id}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

        <ul>
            <li>
                <label for="fileInput">Photo de l'article</label>
                <input type="file" id="fileInput" name="photo" accept="image/*">
            </li>

            <li>
                <img id="preview" src="" alt="AperÃ§u de l'image" style="max-width: 300px; display: none; margin-top: 10px;">
            </li>

            <li>
                <button type="submit">Uploader</button>
            </li>
        </ul>
    </form>

    <script>
        const fileInput = document.getElementById('fileInput');
        const preview = document.getElementById('preview');

        fileInput.addEventListener('change', function () {
            const file = fileInput.files[0];
            if (file) {
                preview.src = URL.createObjectURL(file);
                preview.style.display = 'block';
            } else {
                preview.src = '';
                preview.style.display = 'none';
            }
        });
    </script>

</main>


</html>