<!DOCTYPE html>
<html lang="fr" data-th-replace="~{file-layout::layout(contenu=~{::main},titre=~{::title})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
<title>Profil</title>
</head>
<body>
    <main>

        <form data-th-object="${profil}"   action="/register" method="post" >
            <th:block th:if="!${#authorization.expression('isAuthenticated()')}">
                <h1>Nouveau Profil</h1>
            </th:block>

            <th:block th:if="${#authorization.expression('isAuthenticated()')}">
                <h1 th:text="'Profil de ' + ${principal.username}"></h1>
            </th:block>

            <ul class="flex-outer">
                <li>
                    <label for="inputPseudo">Pseudo :</label>
                    <input type="text" id="inputPseudo" th:field="*{pseudo}" required>
                </li>
                <li>
                    <label for="inputNom">Nom :</label>
                    <input type="text" id="inputNom" th:field="*{nom}" required>
                </li>
                <li>
                    <label for="inputPrenom">Prénom :</label>
                    <input type="text" id="inputPrenom" th:field="*{prenom}" required>
                </li>
                <li>
                    <label for="inputEmail">Email :</label>
                    <input type="email" id="inputEmail" th:field="*{email}" required>
                </li>
                <li>
                    <label for="inputTelephone">Téléphone :</label>
                    <input type="tel" id="inputTelephone" th:field="*{telephone}" >
                </li>
                <li class="adresse">
                    <label for="inputAdresse">Adresse :</label>
                    <input placeholder="Rue" type="text" id="inputAdresse" th:field="*{adresse.rue}" required>
                    <input placeholder="Code Postal" type="text" th:field="*{adresse.codePostal}" required>
                    <input placeholder="Ville" type="text" th:field="*{adresse.ville}" required>
                </li>
                <li>
                    <label for="inputMotDePasse">Mot De Passe :</label>
                    <input type="password" id="inputMotDePasse" th:field="*{motDePasse}" required>
                </li>
                <input id="inputRole" th:field="*{authorities}" hidden="true" data-th-value="0">
                <li>
                    <label for="inputMotDePasseConfirmation">Confirmer mot De Passe :</label>
                    <input type="password" id="inputMotDePasseConfirmation"  required>
                </li>
            </ul>
            <th:block class="boutons" th:if="!${#authorization.expression('isAuthenticated()')}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

                <button type="submit" >Créer</button>
            </th:block>
            <button type="reset">Annuler</button>
        </form>
    </main>
</body>
</html>